version: "1.0.0"
name: "Alexandria Core Library"

nodeComponents:
  # Public API Layer
  api:
    label: "API"
    description: "Public API classes that serve as main entry points"
    color: "#3b82f6"
    shape: "rectangle"
    icon: "Box"

  # Data Persistence
  store:
    label: "Store"
    description: "Data persistence and storage management"
    color: "#8b5cf6"
    shape: "cylinder"
    icon: "Database"

  # Abstraction Interfaces
  adapter-interface:
    label: "Adapter Interface"
    description: "Platform-agnostic abstraction interfaces"
    color: "#06b6d4"
    shape: "hexagon"
    icon: "Plug"

  # Platform-specific Implementations
  node-adapter:
    label: "Node Adapter"
    description: "Node.js specific adapter implementations"
    color: "#22c55e"
    shape: "rectangle"
    icon: "Server"

  browser-adapter:
    label: "Browser Adapter"
    description: "Browser/FileTree adapter implementations"
    color: "#f59e0b"
    shape: "rectangle"
    icon: "Globe"

  test-adapter:
    label: "Test Adapter"
    description: "In-memory adapters for testing"
    color: "#a855f7"
    shape: "rectangle"
    icon: "TestTube"

  # Validation System
  validator:
    label: "Validator"
    description: "Schema and data validation components"
    color: "#ef4444"
    shape: "diamond"
    icon: "Shield"

  rule:
    label: "Rule"
    description: "Individual validation rule implementation"
    color: "#f97316"
    shape: "rectangle"
    icon: "CheckSquare"

  rule-engine:
    label: "Rule Engine"
    description: "Orchestrates validation rules execution"
    color: "#dc2626"
    shape: "hexagon"
    icon: "Cog"

  # Domain Types
  type:
    label: "Type"
    description: "Core domain types and interfaces"
    color: "#64748b"
    shape: "rectangle"
    icon: "FileType"

  branded-type:
    label: "Branded Type"
    description: "Type-safe validated path types"
    color: "#475569"
    shape: "rectangle"
    icon: "Lock"

  # Configuration
  config:
    label: "Config"
    description: "Configuration schema and loading"
    color: "#0ea5e9"
    shape: "rectangle"
    icon: "Settings"

  # Storage Layer
  storage-manager:
    label: "Storage Manager"
    description: "Reading session and record management"
    color: "#84cc16"
    shape: "rectangle"
    icon: "Archive"

  storage-adapter:
    label: "Storage Adapter"
    description: "Backend storage implementations"
    color: "#65a30d"
    shape: "cylinder"
    icon: "HardDrive"

  # Utilities
  utility:
    label: "Utility"
    description: "Helper functions and utilities"
    color: "#78716c"
    shape: "rectangle"
    icon: "Wrench"

edgeComponents:
  # Implementation relationship
  implements:
    label: "implements"
    description: "Adapter implements an abstract interface"
    style: "dashed"
    color: "#06b6d4"
    width: 2
    directed: true

  # Dependency relationship
  uses:
    label: "uses"
    description: "Component depends on another component"
    style: "solid"
    color: "#64748b"
    width: 2
    directed: true

  # Data flow
  data-flow:
    label: "data flow"
    description: "Data flows from one component to another"
    style: "solid"
    color: "#3b82f6"
    width: 2
    directed: true

  # Storage relationship
  stores:
    label: "stores"
    description: "Store persists a data type"
    style: "solid"
    color: "#8b5cf6"
    width: 2
    directed: true

  # Validation relationship
  validates:
    label: "validates"
    description: "Validator checks a data type"
    style: "solid"
    color: "#ef4444"
    width: 2
    directed: true

  # Injection relationship
  injects:
    label: "injects"
    description: "Dependency injection of adapter"
    style: "dotted"
    color: "#22c55e"
    width: 2
    directed: true

  # Extends relationship
  extends:
    label: "extends"
    description: "Component extends another"
    style: "dashed"
    color: "#a855f7"
    width: 2
    directed: true
